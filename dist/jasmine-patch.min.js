!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";function e(e,n){var t=Zone.__symbol__,o=e[t("clock")]=e.clock;e.clock=function(){var r=o.apply(this,arguments);if(!r[t("patched")]){r[t("patched")]=t("patched");var i=r[t("tick")]=r.tick;r.tick=function(){var e=Zone.current.get("FakeAsyncTestZoneSpec");return e?e.tick.apply(e,arguments):i.apply(this,arguments)};var c=r[t("mockDate")]=r.mockDate;r.mockDate=function(){var e=Zone.current.get("FakeAsyncTestZoneSpec");if(e){var n=arguments.length>0?arguments[0]:new Date;return e.setCurrentRealTime.apply(e,n&&"function"==typeof n.getTime?[n.getTime()]:arguments)}return c.apply(this,arguments)},["install","uninstall"].forEach(function(o){var i=r[t(o)]=r[o];r[o]=function(){var r=n[t("fakeAsyncPatchLock")]===!0,c=Zone.FakeAsyncTestZoneSpec;return r&&c?void(e[t("clockInstalled")]="install"===o):i.apply(this,arguments)}})}return r}}function n(e,n,t){t&&!t.timeout&&(t.timeout=function(n){e.__zone_symbol__DEFAULT_TIMEOUT_INTERVAL=e.DEFAULT_TIMEOUT_INTERVAL,e.DEFAULT_TIMEOUT_INTERVAL=n}),t&&!t.skip&&(t.skip=function(){"function"==typeof n.pending&&n.pending()})}Zone.__symbol__;Zone.__load_patch("jasmine",function(t){function o(e){return function(){return n(jasmine,t,this),f.run(e,this,arguments)}}function r(e,o,r,i){var c=jasmine[p("clockInstalled")]===!0,s=(r.testProxyZoneSpec,r.testProxyZone);if(c){var a=Zone[Zone.__symbol__("fakeAsyncTest")];a&&"function"==typeof a.fakeAsync&&(e=a.fakeAsync(e))}return n(jasmine,t,o),i?s.run(e,o,[i]):s.run(e,o)}function i(e){return e&&(e.length?function(n){return r(e,this,this.queueRunner,n)}:function(){return r(e,this,this.queueRunner)})}var c=function(e,n){function t(){this.constructor=e}for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)};if(!Zone)throw new Error("Missing: zone.js");if("undefined"!=typeof jasmine&&!jasmine.__zone_symbol__isBridge){if(jasmine.__zone_patch__)throw new Error("'jasmine' has already been patched with 'Zone'.");jasmine.__zone_patch__=!0;var s=Zone.SyncTestZoneSpec,a=Zone.ProxyZoneSpec;if(!s)throw new Error("Missing: SyncTestZoneSpec");if(!a)throw new Error("Missing: ProxyZoneSpec");var u=Zone.current,f=u.fork(new s("jasmine.describe")),p=Zone.__symbol__,l=jasmine.getEnv();["describe","xdescribe","fdescribe"].forEach(function(e){var n=l[e];l[e]=function(e,t){return n.call(this,e,o(t))}}),["it","xit","fit"].forEach(function(e){var n=l[e];l[p(e)]=n,l[e]=function(e,t,o){var r=i(t);return n.apply(this,"number"==typeof o?[e,r,o]:[e,r])}}),["beforeAll","afterAll","beforeEach","afterEach"].forEach(function(e){var n=l[e];l[p(e)]=n,l[e]=function(e,t){var o=i(e);return n.apply(this,"number"==typeof t?[o,t]:[o])}}),e(jasmine,t);var _=jasmine.QueueRunner;jasmine.QueueRunner=function(e){function n(n){var o=this;n.onComplete=function(e){return function(){o.testProxyZone=null,o.testProxyZoneSpec=null;var n=jasmine.__zone_symbol__DEFAULT_TIMEOUT_INTERVAL;"number"==typeof n&&(jasmine.DEFAULT_TIMEOUT_INTERVAL=n),u.scheduleMicroTask("jasmine.onComplete",e)}}(n.onComplete);var r=t.__zone_symbol__setTimeout,i=t.__zone_symbol__clearTimeout;r&&(n.timeout={setTimeout:r?r:t.setTimeout,clearTimeout:i?i:t.clearTimeout}),jasmine.UserContext?(n.userContext||(n.userContext=new jasmine.UserContext),n.userContext.queueRunner=this):(n.userContext||(n.userContext={}),n.userContext.queueRunner=this);var c=n.onException;n.onException=function(e){if(e&&"Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL."===e.message){var n=this&&this.testProxyZoneSpec;if(n){var t=n.getAndClearPendingTasksInfo();e.message+=t}}c&&c.call(this,e)},e.call(this,n)}return c(n,e),n.prototype.execute=function(){for(var n=this,t=Zone.current,o=!1;t;){if(t===u){o=!0;break}t=t.parent}if(!o)throw new Error("Unexpected Zone: "+Zone.current.name);this.testProxyZoneSpec=new a,this.testProxyZone=u.fork(this.testProxyZoneSpec),Zone.currentTask?e.prototype.execute.call(this):Zone.current.scheduleMicroTask("jasmine.execute().forceTask",function(){return _.prototype.execute.call(n)})},n}(_)}})});